.nh
.TH "X86-PREFETCHH" "7" "May 2019" "TTMO" "Intel x86-64 ISA Manual"
.SH NAME
PREFETCHH - PREFETCH DATA INTO CACHES
.TS
allbox;
l l l l l l 
l l l l l l .
\fB\fCOpcode\fR	\fB\fCInstruction\fR	\fB\fCOp/En\fR	\fB\fC64\-Bit Mode\fR	\fB\fCCompat/Leg Mode\fR	\fB\fCDescription\fR
0F 18 /1	PREFETCHT0 m8	M	Valid	Valid	T{
Move data from m8 closer to the processor using T0 hint.
T}
0F 18 /2	PREFETCHT1 m8	M	Valid	Valid	T{
Move data from m8 closer to the processor using T1 hint.
T}
0F 18 /3	PREFETCHT2 m8	M	Valid	Valid	T{
Move data from m8 closer to the processor using T2 hint.
T}
0F 18 /0	PREFETCHNTA m8	M	Valid	Valid	T{
Move data from m8 closer to the processor using NTA hint.
T}
.TE

.SH INSTRUCTION OPERAND ENCODING
.TS
allbox;
l l l l l 
l l l l l .
Op/En	Operand 1	Operand 2	Operand 3	Operand 4
M	ModRM:r/m (r)	NA	NA	NA
.TE

.SH DESCRIPTION
.PP
Fetches the line of data from memory that contains the byte specified
with the source operand to a location in the cache hierarchy specified
by a locality hint:

.RS
.IP \(bu 2
T0 (temporal data)—prefetch data into all levels of the cache
hierarchy.
.IP \(bu 2
T1 (temporal data with respect to first level cache misses)—prefetch
data into level 2 cache and higher.
.IP \(bu 2
T2 (temporal data with respect to second level cache
misses)—prefetch data into level 3 cache and higher, or an
implementation\-specific choice.
.IP \(bu 2
NTA (non\-temporal data with respect to all cache levels)—prefetch
data into non\-temporal cache structure and into a location close to
the processor, minimizing cache pollution.

.RE

.PP
The source operand is a byte memory location. (The locality hints are
encoded into the machine level instruction using bits 3 through 5 of the
ModR/M byte.)

.PP
If the line selected is already present in the cache hierarchy at a
level closer to the processor, no data movement occurs. Prefetches from
uncacheable or WC memory are ignored.

.PP
The PREFETCHh instruction is merely a hint and does not affect program
behavior. If executed, this instruction moves data closer to the
processor in anticipation of future use.

.PP
The implementation of prefetch locality hints is
implementation\-dependent, and can be overloaded or ignored by a
processor implementation. The amount of data prefetched is also
processor implementation\-dependent. It will, however, be a minimum of 32
bytes. Additional details of the implementation\-dependent locality hints
are described in Section 7.4 of Intel® 64 and IA\-32 Architectures
Optimization Reference Manual.

.PP
It should be noted that processors are free to speculatively fetch and
cache data from system memory regions that are assigned a memory\-type
that permits speculative reads (that is, the WB, WC, and WT memory
types). A PREFETCHh instructions, or any other general instruction. It
is ordered with respect to serializing instructions such as CPUID,
WRMSR, OUT, and MOV CR.

.PP
This instruction’s operation is the same in non\-64\-bit modes and 64\-bit
mode.

.SH OPERATION
.PP
.RS

.nf
FETCH (m8);

.fi
.RE

.SH INTEL C/C++ COMPILER INTRINSIC EQUIVALENT
.PP
.RS

.nf
void \_mm\_prefetch(char *p, int i)

The argument “*p” gives the address of the byte (and corresponding cache line) to be prefetched. The value “i” gives a constant (\_MM\_HINT\_T0, \_MM\_HINT\_T1, \_MM\_HINT\_T2, or \_MM\_HINT\_NTA) that specifies the type of prefetch operation to be performed.

.fi
.RE

.SH NUMERIC EXCEPTIONS
.PP
None.

.SH EXCEPTIONS (ALL OPERATING MODES)
.PP
#UD If the LOCK prefix is used.

.SH SEE ALSO
.PP
x86\-manpages(7) for a list of other x86\-64 man pages.

.SH COLOPHON
.PP
This UNOFFICIAL, mechanically\-separated, non\-verified reference is
provided for convenience, but it may be incomplete or broken in
various obvious or non\-obvious ways. Refer to Intel® 64 and IA\-32
Architectures Software Developer’s Manual for anything serious.

.br
This page is generated by scripts; therefore may contain visual or semantical bugs. Please report them (or better, fix them) on https://github.com/ttmo-O/x86-manpages.

.br
MIT licensed by TTMO 2020 (Turkish Unofficial Chamber of Reverse Engineers - https://ttmo.re).
